# Awesome Claude Code

> Расширение Claude Code для PHP с генераторами DDD, CQRS, Clean Architecture и инструментами документации.

## Краткие факты

- 26 команд, 57 агентов, 242 навыка, 21 хук
- PHP 8.2, PSR-12, readonly классы
- Паттерны DDD/CQRS/Hexagonal
- Генерация тестов, документации и аудит
- Поддержка MCP серверов (Database, GitHub и т.д.)

## Установка

```bash
composer require backvista/awesome-claude-code
```

Компоненты автоматически копируются в `.claude/` директорию.

## Основные команды

| Команда | Назначение |
|---------|---------|
| `/acc-audit-architecture <path>` | Многоуровневый аудит архитектуры |
| `/acc-audit-ddd <path>` | Анализ соответствия DDD |
| `/acc-audit-psr <path>` | Аудит соответствия PSR |
| `/acc-audit-documentation <path>` | Аудит качества документации |
| `/acc-audit-claude-components` | Аудит структуры .claude папки |
| `/acc-generate-documentation <path>` | Генерация документации |
| `/acc-generate-claude-component` | Создание команд/агентов/навыков |
| `/acc-commit` | Автогенерация commit сообщения |
| `/acc-generate-test <path>` | Генерация тестов для файла/папки |
| `/acc-audit-test <path>` | Аудит качества тестов |
| `/acc-code-review [branch] [level]` | Многоуровневый code review |
| `/acc-bug-fix <target>` | Автоматическая диагностика и исправление багов |
| `/acc-explain <path> [mode]` | Объяснение кода: структура, логика, потоки данных |

## Агенты

| Агент | Назначение |
|-------|---------|
| `acc-architecture-auditor` | Многоуровневый аудитор архитектуры |
| `acc-ddd-auditor` | Аудитор соответствия DDD |
| `acc-ddd-generator` | Генератор DDD компонентов |
| `acc-pattern-generator` | Генератор паттернов проектирования |
| `acc-psr-generator` | Генератор PSR реализаций |
| `acc-documentation-writer` | Автор технической документации |
| `acc-documentation-auditor` | Аудитор качества документации |
| `acc-diagram-designer` | Дизайнер Mermaid диаграмм |
| `acc-test-auditor` | Аудитор качества тестов |
| `acc-test-generator` | Генератор тестов |
| `acc-bug-fix-coordinator` | Координатор исправления багов: диагностика → фикс → тест |
| `acc-bug-fixer` | Генератор безопасных минимальных исправлений |
| `acc-explain-coordinator` | Координатор объяснения кода (5 режимов) |
| `acc-codebase-navigator` | Сканирование структуры и определение паттернов |
| `acc-business-logic-analyst` | Извлечение бизнес-правил и процессов |
| `acc-data-flow-analyst` | Трассировка жизненного цикла запроса и потоков данных |

## Навыки по категориям

### Знания (38)
- Архитектура: DDD, CQRS, Clean, Hexagonal, Layered, EDA, Event Sourcing
- Паттерны: Saga, Outbox, Stability (Circuit Breaker, Retry, Rate Limiter, Bulkhead), ADR
- Принципы: SOLID, GRASP
- Стандарты: PSR-1/4/12, обзор PSR
- Документация: типы, диаграммы, QA
- Тестирование: принципы, пирамида, DDD тестирование
- Исправление багов: категории, симптомы, паттерны исправления
- CI/CD: pipeline, инструменты, deployment
- Docker: основы, multistage, base-images, php-extensions, compose, networking, security, buildkit, production, troubleshooting, orchestration, scanning
- Прогресс задач: руководство по отслеживанию координаторов

### Анализаторы (99)
- Архитектура: нарушения SOLID, code smells, coupling/cohesion, bounded contexts, immutability, leaky abstractions, encapsulation
- Тестирование: покрытие тестов, test smells
- Обнаружение багов: логические ошибки, null pointers, boundary, race conditions, resource leaks, exceptions, types, infinite loops
- Безопасность: input validation, output encoding, authentication, authorization, sensitive data, CSRF, crypto, dependencies, SQL injection, SSRF, command injection, deserialization, XXE, path traversal, insecure design, logging failures, secure headers, CORS, mass assignment, type juggling
- Производительность: N+1, query efficiency, memory, caching, loops, lazy loading, batch processing, complexity, connection pool, serialization, index usage, async patterns, file I/O
- DDD: aggregate consistency, CQRS alignment, context communication
- Документация: валидация ссылок, верификация примеров кода, согласованность версий
- Стабильность: timeout strategy, cascading failures, fallback strategy
- Creational: singleton anti-pattern, abstract factory audit
- Читаемость: naming, code style, method/class length, nesting, comments, magic values, consistency
- Тестируемость: DI, pure functions, side effects, test quality
- CI/CD: CI config, CI logs, CI antipatterns
- Docker: build errors, runtime errors, image size, security, secrets, user permissions, compose config, production readiness, antipatterns, layer efficiency, PHP config, healthcheck
- Code Explainer: scan structure, identify entry points, detect architecture, resolve entry point, extract business rules, explain process, extract domain concepts, extract state machine, trace lifecycle, trace transformation, map async flows

### Генераторы (86)
- DDD: Value Objects, Entities, Aggregates, Domain Events, Repositories, Domain Services, Factories, Specifications, DTOs, Anti-Corruption Layer
- CQRS: Commands, Queries, Use Cases, Read Models
- Stability: Circuit Breaker, Retry, Rate Limiter, Bulkhead
- Integration: Saga, Outbox
- Behavioral: Strategy, State, Decorator, Chain of Responsibility, Null Object, Policy, Template Method, Visitor, Iterator, Memento
- GoF Structural: Adapter, Facade, Proxy, Composite, Bridge, Flyweight
- Creational: Builder, Object Pool, DI Container, Mediator, Prototype
- ADR: Action, Responder
- PSR: 3, 6, 7, 11, 13, 14, 15, 16, 17, 18, 20
- Testing: Unit tests, Integration tests, Builders, Mocks, Test doubles
- Bug Fix: minimal safe fix generator
- CI/CD: GitHub Actions, GitLab CI, PHPStan, Psalm, DEPTRAC, Rector, CI fix
- Docker: Dockerfile (production, dev, CI), dockerignore, Compose (dev, production), PHP config, healthcheck, entrypoint, nginx, makefile, env template, supervisor
- Docker Optimizers: layers, build time, image size, PHP-FPM, Compose resources, OPcache, startup
- Deployment: deploy strategy, feature flags

### Шаблоны (10)
- README, Architecture, ADR, API docs
- Getting Started, Troubleshooting
- Code Examples, Mermaid diagrams, Changelog
- Explain output template

## Структура проекта

```
.claude/
├── commands/        # Slash команды (26)
├── agents/          # Субагенты (57)
├── skills/          # Знания + генераторы + анализаторы (242)
└── settings.json    # Хуки и разрешения
```

## Документация

- Основное README: [README.md](README.md)
- Подробная документация: [docs/](docs/)
- Changelog: [CHANGELOG.md](CHANGELOG.md)

## Примеры использования

```bash
# Аудит архитектуры
/acc-audit-architecture ./src

# Генерация документации
/acc-generate-documentation ./src

# Проверка качества документации
/acc-audit-documentation ./docs

# Создание нового DDD компонента
/acc-create-value-object Email

# Генерация тестов
/acc-generate-test ./src/Domain/Order/

# Аудит качества тестов
/acc-audit-test ./tests

# Исправление бага по описанию или ссылке на файл
/acc-bug-fix ./src/Domain/Order/Order.php:42
```

## Ссылки

- GitHub: https://github.com/backvista/awesome-claude-code
- Packagist: https://packagist.org/packages/backvista/awesome-claude-code
- Author: https://github.com/backvista

## Версия

v2.10.0 - Усиление системы аудита: +21 навык, условные правила, единая система severity, уровни аудита
